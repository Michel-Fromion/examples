<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <title>YAKINDU Coffee Machine pro example</title>
      <link href="../css/style.css" rel="stylesheet">
   </head>
   <body class="body-container">
  
     <h1>YAKINDU Coffee Machine pro example</h1>
	  <p class="pro-feature">
      This is a comprehensive example for the deep integration of YAKINDU statecharts 
         with manually written C code. The example is implemented as a simple command
         line tool. It makes use of POSIX threads. So you need a compiler tool chain and
         a 'pthread' library to build an run the example. 
		
      <img class="standard-image"
        alt="The digital watch statechart in all its details"
        src="images/CoffeeMachine_model.png" />
		</p>
      <br/>
      <h3>Statechart and source code</h3>
      First you may want to take a look at the model and source code artifacts. These
      are all located in the 'src' folder. File names that include 'coffee' or 'cm_'
      include application specific implementations and those with 'sc_' prefix are 
      generic parts that belong to the state machine infrastructure. 
      <br/>
      <h3>Set up your system</h3>
      As mentioned above you need a compiler tool chain and the 'pthread' libraries. 
      If you have a Linux or Mac OS Xsystem you likely have everything installed. If 
      you run Windows than we propose to install cygwin tools (https://www.cygwin.com).
      <br/>
      <h3>Set up the roject</h3>
      This project is preconfigured for Windows with cygwin. If you use another system:
      <ul>
         <li>right-click on project 'coffee_machine' in the 'Project Explorer' 
         <li>choose 'Properties'
         <li>a dialog appears - choose 'C/C++ Build' 
         <li>select 'Tool Chain Editor'
         <li>choose the appropriate tool chain for 'current tool chain'
         <li>click 'OK'
      </ul>
      ... and your project should be ready to build
      <br/>
      <h3>Build</h3>
      - right-click on project 'coffee_machine' in the 'Project Explorer' 
      - choose 'Build Project'
       <br/>
      <h3>Run the example</h3>
      In the 'Debug' or 'Release' folder you will find an executable 'coffee_machine.exe'
      (even on Linux and Mac OS X). Right-click on this and choose:
      - 'Run As > Local C/C++ Application'. 
      The embedded Eclipse console shows up and you can follow the instructions. Enter 
      'o' to start the coffee machine...
      <br/>
      <h3>Simulate</h3>
      Additionally you can simulate the statechart by right-click and choose:
      - 'Run As > Statechart Simulation'
      You'll find more information on using the simulation in the help. 
       <br/>
      <h3>change the model</h3>
      You may want to change or extend the model. Within the embedded expression editor 
      you can press 'Ctrl-Space' to get proposals, which also include the C elements from 
      the imported C header files. 
      <br/>
      <h3>Generate state machine code</h3>
      If you have changed the model you can generate state machine code by right-click on 
      'CoffeeMachine.sgen' and choose 'Generate Code Artefacts'. This will generate:
      <ul>
         <li> CoffeeMachine.h
         <li> CoffeeMachineRequired.h
         <li> CoffeeMachine.c
      </ul>
      </p>
	  </p>
   </body>
</html>