<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <title>YAKINDU Sensor Array example</title>
      <link href="../css/style.css" rel="stylesheet">
   </head>
   <body class="body-container">
	  
      <h1>YAKINDU Sensor Array pro example</h1>
	  <p class="pro-feature">
      This is an example for the handling of arrays imported from usercode
	  in SCT. You can see how iterating an array in SCT is possible and how to make
	  the best use of arrays.
	   <img class="standard-image"
        alt="The sensor statechart in all its details"
        src="images/sensor_model.png" />
	  </p>
      <br/>
      <h3>Statechart and source code</h3>
      First you may want to take a look at the model and source code artifacts. These
      are all located in the 'src' folder. The generated files are located in 
     'src/model/src-gen' and 'src/model/src'. 'src/sensor_utils.c' contains the 
      user-defined functions which are declared in 'src/sensor_utils.h', additionally
      to the used array.
	  
	  The model basically shows how to take a measurement multiple times, store the 
	  values in an array, calculate the mean and standard deviation and so forth.
	  Calling a function with an array as argument is shown as well.
      <br/>
      <h3>Set up your system</h3>
      As mentioned above you need a compiler tool chain and the 'pthread' libraries. 
      If you have a Linux or Mac OS Xsystem you likely have everything installed. If 
      you run Windows than we propose to install cygwin tools (https://www.cygwin.com).
      <br/>
      <h3>Set up the roject</h3>
      This project is preconfigured for Linux and gcc. If you use another system:
      <ul>
         <li>right-click on project 'coffee_machine' in the 'Project Explorer' 
         <li>choose 'Properties'
         <li>a dialog appears - choose 'C/C++ Build' 
         <li>select 'Tool Chain Editor'
         <li>choose the appropriate tool chain for 'current tool chain'
         <li>click 'OK'
      </ul>
      ... and your project should be ready to build
      <br/>
      <h3>Build</h3>
      - right-click on project 'coffee_machine' in the 'Project Explorer' 
      - choose 'Build Project'
       <br/>
      <h3>Run the example</h3>
      In the 'Debug' or 'Release' folder you will find an executable 'coffee_machine.exe'
      (even on Linux and Mac OS X). Right-click on this and choose:
      - 'Run As > Local C/C++ Application'. 
      The embedded Eclipse console shows up and you can follow the instructions. Enter 
      'o' to start the coffee machine...
      <br/>
      <h3>Simulate</h3>
      Additionally you can simulate the statechart by right-click and choose:
      - 'Run As > Statechart Simulation'
      You'll find more information on using the simulation in the help. 
       <br/>
      <h3>change the model</h3>
      You may want to change or extend the model. Within the embedded expression editor 
      you can press 'Ctrl-Space' to get proposals, which also include the C elements from 
      the imported C header files. 
      <br/>
      <h3>Generate state machine code</h3>
      If you have changed the model you can generate state machine code by right-click on 
      'CoffeeMachine.sgen' and choose 'Generate Code Artefacts'. This will generate:
      <ul>
         <li> CoffeeMachine.h
         <li> CoffeeMachineRequired.h
         <li> CoffeeMachine.c
      </ul>
      </p>
   </body>
</html>